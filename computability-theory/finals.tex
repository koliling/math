\documentclass{article}
\usepackage[left=3cm,right=3cm,top=3cm,bottom=3cm]{geometry}
\usepackage{amsmath,amssymb,amsthm,tikz,mathtools}
\usepackage{stmaryrd} % For double square bracket [[]]
\usepackage{bm} % For bold vectors
\usepackage{color}
\usepackage[inline]{enumitem}
\usetikzlibrary{patterns}
\setlength{\parindent}{0mm}
\newcommand{\TODO}[1]{\textcolor{red}{TODO: #1}}

\begin{document}
\title{Basic Logic II: Finals}
\author{Li Ling Ko\\ lko@nd.edu}
\date{\today}
\maketitle

\textbf{Kunen I.9.6:} \it Derive the axioms of Infinity and Replacement
  from (2) of Lemma I.9.5. Hint. For Infinity, let $A$ be the
  (possibly proper) class of all natural numbers, and let $xRy$ iff
  $x=y+1$.

  \begin{proof}
    We follow the hint to derive Infinity. Let $A$ be the
    possibly proper class of all natural numbers, and let $xRy$ iff
    $x=y+1$. Formally, $A$ is the class of sets $n$ where $n$
    is transitive, well-ordered by $\in$, and contains only elements that
    are either the empty set or a successor. Also, relation $xRy$ is
    defined by $x=S(y)$, where $S$ denotes the formula for successor. Then
    $R$ is set-like on $A$, because every natural number $n$ has only one
    successor $S(n)$ which is also a natural number. Therefore
    $\text{pred}_{A,R}(n) =\{S(n)\}$, which is a set since $S(n)$ is a set
    and singletons of sets are sets by the Pairing Axiom. Thus from Lemma
    I.9.5 the transitive closure relation $R^*$ is also set-like. \\

    Consider the transitive closure $B$ of $\emptyset$ in $A$. $B$ is a set
    since $R^*$ is set-like. Also, $B$ will contain exactly all the natural
    numbers, and is therefore a witness for the Axiom of Infinity. \\

    To derive Replacement, fix any set $X$ and formula $\varphi(x,y,w)$
    such that for a fixed set $w$, given any $x\in X$ there is a unique set
    $y$ such that $\varphi(x,y,w)$ holds. We want to show that the range of
    $\varphi$, defined as $Y :=\{y: (\exists x\in X)\; \varphi(x,y,w)\}$,
    is a set. We define a relation $R$ on the possibly proper class $X\cup
    Y$ such that if $y\in Y$, then $xRy$ iff $x\in X$ and
    $\neg\varphi(x,y,w)$. Otherwise if $x\in X$, then $yRx$ iff
    $\varphi(x,y,w)$. \\

    Now $R$ is set-like on $X\cup Y$, because if $y\in Y$, then
    $\text{pred}_{X\cup Y,R}(y) =\{x\in X: \neg\varphi(x,y,w)\}$, which is
    a set by the axiom of Comprehension since it is a subset of $X$ and can
    be defined by the formula $\neg\varphi(x,y,w)$. Also, if $x\in X$,
    then $\text{pred}_{X\cup Y,R}(x)=\{y\}$, where $y$ is the unique set
    that $\varphi(x,y,w)$ holds; this will also be a set by the Pairing
    axiom since $y$ is a set. Thus by Lemma I.9.5, the transitive closure
    relation $R^*$ is also set-like. \\

    Fix any $x\in X$, and consider its transitive closure
    $S=\text{pred}_{X\cup Y,R^*}(x)$. Then $S$ is a set from Lemma I.9.5,
    and $S$ is exactly $X\cup Y$ by definition. Then using Comprehension,
    we can extract $Y$ as a set from $S$ as follows:
    \[Y =\{y\in S:\; (\exists x)\; \varphi(x,y,w)\}.\]
  \end{proof}

\textbf{Kunen I.9.24:} \it Suppose that $x,y\in\text{WF}$. Then:
  \begin{enumerate}
    \item \it $\{x,y\}\in\text{WF}$ and $\text{rank}(\{x,y\})
      =\max(\text{rank}(x), \text{rank}(y))+1$.

      \begin{proof}
        The first assertion follows from I.9.24.3 which says a set lies in
        WF iff all its elements lie in WF. The second assertion follows
        from I.9.24.4.
      \end{proof}

    \item \it $\langle x,y\rangle\in\text{WF}$ and $\text{rank}(\langle
      x,y\rangle) =\max(\text{rank}(x), \text{rank}(y))+2$.

      \begin{proof}
        The first assertion follows from I.9.24.3 and the fact that both
        $\{x\}$ and $\{x,y\}$ lie in WF from part (1) of this question.
        The second assertion follows from I.9.24.4 and the fact that
        $\text{rank}(\{x,y\}) =\max(\text{rank}(x), \text{rank}(y))+1$ as
        shown in the first part of this question.
      \end{proof}

    \item \it If $\mathcal{P}(x)$ exists, then $\mathcal{P}(x)\in\text{WF}$
      and $\text{rank}(\mathcal{P}(x)) =\text{rank}(x)+1$.

      \begin{proof}
        $x$ lies in WF, so each of its members must also lie in WF from
        Lemma I.9.24.1. Then any subset of the $x$ also lies in WF from
        Lemma I.9.24.3, therefore $\mathcal{P}(x)$ also lies in WF from the
        same lemma. Since $x$ lies in $\mathcal{P}(x)$, the rank of
        $\mathcal{P}(x)$ is at least $\text{rank}(x)+1$ from Lemma
        I.9.24.4. Also from the same lemma, the rank of any subset of $x$
        cannot exceed the rank of $x$. Therefore the rank of
        $\mathcal{P}(x)$ cannot exceed $\text{rank}(x)+1$, and must equal
        $\text{rank}(x)+1$.
      \end{proof}

    \item \it $\bigcup x\in\text{WF}$ and $\text{rank}(\bigcup x)
      \leq\text{rank}(x)$.

      \begin{proof}
        The members of $\bigcup x$ are the members of members of $x$. Since
        each member of $x$ is in WF from Lemma I.9.24.1, the members of
        members of $x$ also lie in WF from the same lemma. Then from Lemma
        I.9.24.3, $\bigcup x$ lies in WF. For the second assertion in the
        question, assume by contradiction that $\text{rank}(\bigcup
        x)>\text{rank}(x)$. Then from Lemma I.9.24.4, there must be a
        member $y$ of $\bigcup x$ whose rank is at least the rank of $x$. But
        then $y$ is a member $z$ of a member of $x$, so the rank of $z$ is
        at least $\text{rank}(x)+1$ from Lemma I.9.24.4, and then from the
        same lemma the rank of $x$ is at least $\text{rank}(x)+2$, a
        contradiction.
      \end{proof}
  \end{enumerate}
\end{document}
