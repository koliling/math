\documentclass{article}
\usepackage[left=3cm,right=3cm,top=3cm,bottom=3cm]{geometry}
\usepackage{amsmath,amssymb,amsthm,tikz,mathtools}
\usepackage{color}
\usepackage[inline]{enumitem}
\usetikzlibrary{patterns}
\setlength{\parindent}{0mm}
\newcommand{\TODO}[1]{\textcolor{red}{TODO: #1}}

\begin{document}
\title{Discrete Mathematics: Finals}
\author{Li Ling Ko\\ lko@nd.edu}
\date{\today}
\maketitle

\begin{enumerate}
  \item \it For a graph $G$ denote by $t(G)$ the sum of the number of
    triangles in $G$ and the number of triangles in $\bar{G}$, the
    complement of $G$. 

    \begin{enumerate}
      \item \it Show that if $G$ has $n$ vertices and $m$ edges then
        \[t(G) \geq \binom{n}{3} +\frac{2m^2}{n} -m(n-1).\]

        \begin{proof}
          We first prove that
          \begin{equation}
            t(G) =\binom{n}{3} +\sum_{v\in V}\binom{d_v}{2} -mn +2m,
            \label{eqn:count}
          \end{equation}
          where $V$ denotes the set of vertices in $G$ and $d_v$ denotes
          the degree of a given vertex $v$ in $V$. We use a counting
          argument to show that the number of each type of triangle is
          counted an equal number of times on both sides of the equation.
          Now there are four types of triangles in the clique $K_n$ that
          contains $G$ - the first type has three edges in $G$, the second
          type has exactly two edges in $G$, the third type has exactly one
          edge in $G$, and the fourth type has no edge in $G$. $t(G)$
          counts each of the first type and fourth type of triangles
          exactly once, and doesn't count the other two types of triangles.
          $\binom{n}{3}$ counts each type of triangle exactly once. The
          counts of the remaining terms in equation~\eqref{eqn:count} is
          summarized in the table below.

          \begin{table}[ht]
            \begin{center}
              \begin{tabular}{c|ccccc}
                no. $\Delta$ edges in $G$ &$t(G)$ &$\binom{n}{3}$
                  &$\sum_v\binom{d_v}{2}$ &-$mn$ &$2m$ \\
                \hline
                3 &1 &1 &3 &-9 &6 \\
                2 &0 &0 &1 &-6 &4 \\
                1 &0 &0 &0 &-3 &2 \\
                0 &1 &0 &0 &-0 &0 \\
              \end{tabular}
              \caption{The number of times each term in
              equation~\eqref{eqn:count} counts each type of triangle}
            \end{center}
          \end{table}

          Summing the counts on each side of equation~\eqref{eqn:count},
          we get the desired formula. Then to get the inequality in the
          question, we equate it with equation~\eqref{eqn:count} and
          rearrange to get 
          \[\begin{array}{lrll}
            &t(G) &\geq \binom{n}{3} +\frac{2m^2}{n} -m(n-1) &\\
            \Leftrightarrow &\binom{n}{3} +\sum_{v\in V}\binom{d_v}{2} -mn
              +2m &\geq \binom{n}{3} +\frac{2m^2}{n} -m(n-1) &\\
            \Leftrightarrow &\sum_{v\in V}\binom{d_v}{2} &\geq
              \frac{2m^2}{n} -m &\\
            \Leftrightarrow &\frac{1}{2}\sum_{v\in V}d_v^2
              +\frac{1}{2}\sum_{v\in V}d_v &\geq \frac{2m^2}{n} -m
              &\because \binom{d_v}{2}=d_v(d_v-1)/2\\
            \Leftrightarrow &\sum_{v\in V}d_v^2 &\geq
              \frac{(2m)^2}{n} &\because \sum_{v\in V}d_v=2m\\
            \Leftrightarrow &\sum_{v\in V}d_v^2 &\geq
              \frac{\left(\sum_{v\in V}d_v \right)^2}{n}. &\because
              \sum_{v\in V}d_v=2m\\
          \end{array}\]

          Now the last line holds from the Cauchy-Schwarz inequality, so
          the proof is complete.
        \end{proof}

      \item \it Show that for large $n$, for every 2-colouring of the edges
        of $K_n$ at least nearly a quarter of all triangles will be
        monochromatic.

        \begin{proof}
          Observe that given a 2-colouring of the edges of $K_n$, the
          number of monochromatic triangles is exactly $t(G)$, where $G$ is
          the subgraph of $n$ vertices embedded in $K_n$, consisting of
          exactly the edges coloured one of the colours. Thus, for a fixed
          $n$, to get the minimal number of monochromatic triangles, we
          find a lower bound for $t(G)$, where $G$ ranges over all possible
          subgraphs of $K_n$. From the first part of this question, we have
          a lower bound of $t(G)$ expressed in terms of $m$, the number of
          edges in $G$. The bound is
          \[t(G) \geq \binom{n}{3} +\frac{2m^2}{n} -m(n-1),\]
          which is quadratic in $m$, so by differentiating with respect
          to $m$ and setting the derivative to 0, we know that the bound of
          $t(G)$ is minimal when $m=n(n-1)/4$. Thus
          \begin{align*}
            t(G) &\geq \binom{n}{3} +\frac{2m^2}{n} -m(n-1)\\
            &\geq \binom{n}{3} +\frac{2(n(n-1)/4)^2}{n} -n(n-1)^2/4\\
            &=\binom{n}{3} -\frac{1}{8}n(n-1)^2.\\
          \end{align*}

          Then
          \begin{align*}
            t(G)/\binom{n}{3} &\geq1 -\frac{\frac{1}{8}n(n-1)^2}
              {\binom{n}{3}}\\
            &=1 -\frac{\frac{1}{8}n(n-1)^2} {\frac{1}{6}n(n-1)(n-2)}\\
            &=\frac{1}{4} -\frac{3}{4(n-2)},\\
          \end{align*}
          which tends to $1/4$ as $n$ tends to infinity. In particular,
          given $\epsilon>0$, choose $n$ large enough such that
          $\frac{3}{4(n-2)}<\epsilon$; or equivalently choose
          $n>\frac{3}{4\epsilon}+2$. Then we will have
          \begin{align*}
            t(G)/\binom{n}{3} &\geq\frac{1}{4} -\epsilon\\
          \end{align*}
          as desired.
        \end{proof}
    \end{enumerate}

  \item \it Let $T$ be a tree with $k$ edges.
    \begin{enumerate}
      \item Let $G$ be a graph with $n$ vertices and more than $(k-1)n$
        edges. Show that $G$ contains $T$ as a subgraph.

        \begin{proof}
          Following some part of the proof of the Theorem 57.3, we can
          assume that each vertex of $G$ has at least $(k-1)$ edges, and
          that $G$ is connected: Let $G$ with $n$ vertices and $m$ edges
          that satisfy $m>(k-1)n$. Construct $G'$ from $G$ by iteratively
          deleting vertices of degree at most $(k-1)$, as long as there are
          such vertices. Suppose the resulting graph has $n'$ vertices and
          $m'$ edges. Since no more than $(k-1)$ edges were deleted at each
          iteration, we have
          \[m' >(k-1)n-(k-1)(n-n') =(k-1)n'.\]
          So $m'>0$, and therefore $n'>0$, and the resulting graph is not
          empty, and satisfies the desired edge-to-vertex ratio. Thus we
          may restrict ourself to considering the subgraph $G'$ of $G$.
          Also, if the graph is not connected, the taking the densest
          component would satisfy the desired edge-to-vertex ratio, and we
          may restrict ourselves to considering that component. \\

          We prove the assertion by induction on $k$. The case of $k=1$ is
          trivial. Let $T$ be a tree with $k>1$ edges, $G$ a graph with $n$
          vertices and more than $(k-1)n$ edges, and where each edge has
          degree at least $(k-1)$. Note that $n\geq k+1$ because $T$ has
          $k+1$ vertices. Now $T$ can be either a path $P_{k+1}$, a star
          $S_{k+1}$, or neither. We consider the three cases separately. \\

          \textit{Case $T=P_{k+1}$ is a path:} The result follows directly
          from the proof of Theorem 57.3, which showed that every graph
          with $n$ vertices and more than $(k-1)n/2$ edges embeds a path
          with $k$ edges. \\

          \textit{Case $T=S_{k+1}$ is a star:} $G$ has $n$ vertices but
          at least $(k-1)n+1$ edges. So by the pigeonhole principle, $G$
          must have a vertex with $k$ or more neighbors. Making this vertex
          the center of the star, we can embed $S_{k+1}$ onto $G$. \\

          \textit{Case $T$ is neither a path nor a star:} Let $v_0v_1\ldots
          v_t$ be the longest path in $T$. Then $t\leq k-1$ since $T$ is
          not a path. Now either $v_0$ or $v_t$ must be a leaf, otherwise
          we can extend the path to a longer one. Assume without loss of
          generality that $v_t$ is a leaf. Then by inductive hypothesis,
          after removing leaf $v_t$ we can embed the resulting tree $T'$
          into $G$, because $T'$ will have $k-1$ edges and
          $m=(k-1)n>(k-2)n$ since $k>1$. For each $i\in\{1,\ldots,t-1\}$,
          let $u_i$ denote the vertex in $G$ that $v_i$ is mapped to.
          Now in $T$, the degree of $v_{t-1}$ cannot exceed $k-1$ because
          $T$ is not the star $S_{k+1}$. Then since $u_{t-1}$ has
          at least $k-1$ neighbors in $G$ by assumption, and there are only
          $k$ vertices in $T'$, and trees cannot have cycles, it must be
          that at least one of the neighbors of $u_{t-1}$ is is not an
          image of any $v_i$ in $T'$. So mapping $v_t$ to this neighbor
          will embed $T$ onto $G$. \\
        \end{proof}

      \item Show that there are infinitely many $n$ for which there is a
        graph $G$ with $n$ vertices and at least $(k-1)n/2$ edges for which
        $G$ does not contain $T$ as a subgraph.

        \begin{proof}
          For each $n\in\mathbb{N}$ such that $k|n$, the graph consisting
          of $n/k$ copies of $K_k$, the complete graph on $k$ vertices,
          does not have $T$ as a subgraph, since there are not enough
          vertices on each $K_k$. The number of edges in such a graph is
          \[m =\binom{k}{2}\cdot\frac{n}{k} =(k-1)n/2.\]
          Since there are infinite $n$ which are multiples of $k$, there
          are infinite such $G$'s.
        \end{proof}
    \end{enumerate}
\end{enumerate}
\end{document}
