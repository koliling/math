\documentclass{article}
\usepackage[left=3cm,right=3cm,top=3cm,bottom=3cm]{geometry}
\usepackage{amsmath,amssymb,amsthm,pgfplots,tikz,mathtools}
\usepackage[inline]{enumitem}
\usetikzlibrary{patterns}
\usepackage{color}
\setlength{\parindent}{2mm}
\newcommand{\TODO}[1]{\textcolor{red}{TODO: #1}}

\begin{document}
\title{Basic Logic I: Homework 7}
\author{Li Ling Ko\\ lko@nd.edu}
\date{\today}
\maketitle

\begin{enumerate}[label={\bf Q\arabic*:}]
  \item Let $F$ be a field. The language $\mathcal{L}_F$ for vector spaces
    over $F$ consists of one binary function symbol $+$, one constant
    symbol $0$, and a unary function symbol $\lambda_a$ for every $a\in F$.
    Let $T$ be the theory of infinite vector spaces over $F$ in the
    language $\mathcal{L}_F$. Show that $T$ has quantifier elimination.

    \begin{proof}
      We apply Corollary 5.16 in the notes.  Let $\varphi(\overline{x},y)$
      be a quantifier-free formula, and $\mathcal{M}$ and $\mathcal{N}$ be
      models of $T$. Since the theory of infinite vector spaces is
      axiomatizable in first order language in the given language,
      $\mathcal{M}$ and $\mathcal{N}$ must each be an infinite vector space
      over $F$. Let $\mathcal{A}$ be an $\mathcal{L}_F$-substructure of
      $\mathcal{M}$, and $F:\mathcal{A}\rightarrow\mathcal{N}$ an
      $\mathcal{L}_F$-embedding. Let $\overline{a}=(a_1,\ldots,a_n)\subset
      A$ and $c\in M$ be such that
      $\mathcal{M}\models\varphi(\overline{a},c)$. We need to find $d\in N$
      such that $\mathcal{N}\models\varphi(F(\overline{a}),d)$. \\

      Note that $A$ is a subspace with base field $F$ of the vector space
      $M$ because $\mathcal{A}$ is a substructure of $\mathcal{M}$ and thus
      contains $0$, is closed under $+$, is closed under scalar product
      $\lambda_a$ for each $a\in F$, and therefore inherits the axioms of
      the vector spaces from $\mathcal{M}$.
      Also, since $F$ is an injective homomorphism to a vector space,
      $F(A)$ is isomorphic as a vector space to $A$, and is a subspace of
      $N$. \\

      Now since $\varphi(\overline{x},y)$ is quantifier-free, we can
      express it in disjunctive normal form, i.e. a disjunction of
      formulas, each of which is a conjunction of atomic formulas. So if
      $\mathcal{M}\models\varphi(\overline{a},b)$, this implies
      $\mathcal{M}$ satisfies one of the conjunction of atomic formulas.
      Hence we can assume that $\varphi(\overline{x},y)$ is a conjunction
      of atomic formulas $\phi(\overline{x},y)$. Now the given language has
      no relations, so an atomic formula $\phi(\overline{x},y)$ can only be
      of the form $t_1(\overline{x},y)\;\square\;t_2(\overline{x},y)$,
      where $t_1(\overline{x},y)$ and $t_2(\overline{x},y)$ are terms and
      $\square$ is either $=$ or $\neq$. Now in the given language, each
      term $t(\overline{x},y)$ is equivalent to the form
      \begin{align*}
        f_1x_1+\ldots+f_nx_n+fy,
      \end{align*}
      where $f_1,f\in F$. Note that we can remove all parts of the term
      involving $0$ since $g0=0$ for all $g\in F$ and $0+t=t+0=t$ for all
      terms $t$. Then the atomic formula
      $t_1(\overline{x},y)\;\square\;t_2(\overline{x},y)$ will be
      equivalent to the form
      \begin{align*}
        y\;\square\;f_1x_1+\ldots+f_nx_n,
      \end{align*}
      where $\square$ is either $=$ or $\neq$. If $\square$ is $=$ for one
      of the atomic formulas, then set $d=c=f_1a_1+\ldots+f_na_n$ will
      work. On the other hand, if $\square$ is $\neq$ for all the atomic
      formulas, then since $N$ is infinite, there must be an element $d\in
      N$ that is different from all $F(f_1a_1+\ldots+f_na_n)$ for each
      atomic formula $\phi(\overline{a},y)$. This $d$ will satisfy
      $\mathcal{N}\models\varphi(F(\overline{a},d)$, as required.
    \end{proof}

  \item Let $\mathcal{R}=\langle\mathbb{R},+,-,\cdot,<,0,1\rangle$ be the
    ordered field of real numbers. Consider the type
    \begin{equation*}
      p(x) =
      \{x>\underbrace{1+\cdots+1}_{n-\text{times}}:n\in\mathbb{N}^{>0}\}.
    \end{equation*}
    Show that every proper elementary extension of $\mathcal{R}$ realizes
    $p$.

    \begin{proof}
      First, we note that if an elementary extension does not realize $p$,
      then the extension also cannot contain an element that is smaller
      than all elements in $\mathbb{R}$: If such an element $s$ exists,
      then $-s$ will be greater than all elements in $\mathbb{R}$, because
      $\mathcal{R}$ satisfies the sentence
      \begin{equation*}
        \forall x\; (x>0\leftrightarrow -x<0).
      \end{equation*}

      Let $\mathcal{S}=\langle\mathbb{S},+,-,\cdot,<,0,1\rangle$ be a
      proper elementary extension of $\mathcal{R}$. We need to show that
      $\mathbb{S}$ contains an element that is greater than all elements in
      $\mathbb{R}$. \\

      %Now $\mathcal{S}$ must satisfy the theory of
      %$\mathcal{R}$, which includes the axioms of fields. Hence
      %$\mathbb{S}$ is a field extension of $\mathbb{R}$. \\

      %There are two possible cases. In the first case, the degree of
      %the field extension $d=[\mathbb{S}:\mathbb{R}]$ is finite. We first show
      %that $\mathbb{S}$ must contain the field of complex numbers
      %$\mathbb{C}$: Pick any element $s\in\mathbb{S}\setminus\mathbb{R}$.
      %Then $s$ is a solution to an irreducible polynomial in
      %$\mathbb{R}[x]$, which implies that $s\in\mathbb{C}$, by the
      %algebraic closure of $\mathbb{C}$. Then we have
      %$\mathbb{R}\subset\mathbb{R}[s]\subseteq\mathbb{C}$. But
      %$[\mathbb{C}:\mathbb{R}]=2$ because $\mathbb{C}=\mathbb{R}[i]$, we
      %have $\mathbb{R}[s]=\mathbb{C}$, which implies that
      %$\mathbb{C}\subseteq\mathbb{S}$. \\

      %Consider the ordering of $\mathbb{S}$ restricted to $\mathbb{C}$.
      %Assume by contradiction that $\mathbb{S}$ does not realize $p$. If
      %$i\geq0$, then multiplying the equation by $i$, we get $-1=i\cdot
      %i<0$, which contradicts the sentence
      %\begin{equation*}
      %  \forall x,y\; (x>0\wedge y>0\rightarrow x\cdot y>0),
      %\end{equation*}
      %which is satisfied by $\mathcal{R}$ and hence by $\mathcal{S}$.
      %On the other hand, if $i<0$, then $-i>0$, so similarly multiplying
      %the equation by $-i$, we get $-1=-i\cdot(-i)<0$, still a
      %contradiction. \\

      %Hence the degree of the field extension $d=[\mathbb{S}:\mathbb{R}]$
      %must be infinite. In this case, $\mathbb{S}$ must contain the field
      %of fractions $\mathbb{R}(y)$. \\

      Fix any $y\in\mathbb{S}\setminus\mathbb{R}$. Assume by contradiction
      that $\mathbb{S}$ does not realize $p$, and consider the ordering of
      $\mathbb{S}$ restricted to $\mathbb{R}\cup\{y\}$. Partition
      $\mathbb{R}$ into two disjoint sets $R_1=\{r<y:r\in\mathbb{R}\}$ and
      $R_2=\{r>y:r\in\mathbb{R}\}$. Note that the two sets are disjoint,
      their union is $\mathbb{R}$, and elements in $R_1$ are smaller than
      all elements in $R_2$, because $\mathbb{R}$ and thus $\mathbb{S}$
      satisfy the axioms of linear ordering. Then from assumption,
      $\sup{R_1}$ and $\inf{R_2}$ are contained in $\mathbb{R}$, and from
      the axioms of linear ordering these values must be equal. Hence we
      have $a=\sup{R_1}=\inf{R_2}\in\mathbb{R}$. Then since $R_1\cup
      R_2=\mathbb{R}$, $a$ must belong to either $R_1$ or $R_2$. Assume
      without loss of generality that $a\in R_1$. \\

      Consider the element $y-a\in\mathbb{S}$ and its multiplicative
      inverse $(y-a)^{-1}\in\mathbb{S}$. Since $a\in R_1$, we have $y-a>0$.
      Then the multiplicative inverse $(y-a)^{-1}$ must also be greater
      than 0, because $\mathcal{R}$ and thus $\mathcal{S}$ satisfies the
      sentence which says that the multiplicative inverse of a positive
      element is also positive. Then from assumption, $0\leq(y-a)^{-1}\leq
      N$ for some $N\in\mathbb{N}^+$. At the same time, since $a\not\in
      R_2$, we have $0<y-a<1/N$. Multiplying these two inequalities give us
      $1=(y-a)^{-1}\cdot(y-a)<N\cdot 1/N=1$, a contradiction. Note that we
      can multiply these inequalities because $\mathcal{R}$ and thus
      $\mathcal{S}$ satisfies the sentence that says if $0\leq a_1\leq a_2$
      and $0<b_1<b_2$ then $a_1\cdot b_1\leq a_2\cdot b_2$.
    \end{proof}

  \item
    \begin{enumerate}
      \item Two functions $f,g:\mathbb{N}\rightarrow\mathbb{N}$ are called
        almost disjoint if $f(n)\neq g(n)$ for almost all of
        $n\in\mathbb{N}$. Show that there are $2^\omega$-many almost
        disjoint functions from $\mathbb{N}$ to $\mathbb{N}$.

        \begin{proof}
          We say that two functions are almost disjoint if and only if they
          agree at only a finite number of points. We construct an
          injective function from the reals $\mathbb{R}$ to
          $\mathbb{N}^\mathbb{N}$ such that the image of the function is a
          set of almost disjoint functions in $\mathbb{N}^\mathbb{N}$. Now
          each real $r\in\mathbb{R}$ is the limit of a countable series of
          rational numbers. Let $S_r=\{q_n:n\in\mathbb{N}\}$ be a series
          for a given real $r\in\mathbb{R}$. Since there are countably many
          rationals, we can code each rational as a natural number, and
          hence consider $S_r$ as a countable series of the natural
          numbers, i.e.  consider $S_r$ as an element of
          $\mathbb{N}^\mathbb{N}$. Then for distinct reals $r_1\neq
          r_2\in\mathbb{R}$, $S_{r_1}$ and $S_{r_2}$ can only agree on a
          finite domain, otherwise the series of rationals given by
          $S_{r_1}$ and $S_{r_2}$ will converge to the same real number.
          Hence $\{S_r: r\in\mathbb{R}\}$ gives a set of
          $|\mathbb{R}|=2^\omega$ almost disjoint functions as required.

          %Consider the set of
          %equivalence classes $\mathcal{S}$ of $[0,1]$, where we define two
          %reals to be equivalent if and only if their difference is
          %rational. Then $\mathcal{S}$ has the same cardinality as the
          %$[0,1]$ which is $2^\omega$, because
          %$2^\omega=|[0,1]|=|\mathcal{S}|\times|\mathbb{Q}|=|\mathcal{S}|\times\omega$
          %implies $|\mathcal{S}|=2^\omega$. \\

          %Hence it suffices to construct an injective function from
          %$\mathcal{S}$ to the set of functions from $\mathbb{N}$ to
          %$\mathbb{N}$. For each equivalence class in $\mathcal{S}$, let
          %$r$ be a representative of the class, and let $f$ be the function
          %defined by the decimal expansion of $r$. Then functions from
          %different equivalence classes must be almost disjoint otherwise
          %their associated representatives

          %First, note that there is at
          %least one countable set of almost disjoint functions; by letting
          %the $n$th function be the constant function $n$. Let
          %$\mathcal{S}\subset\mathbb{N}^{\mathbb{N}}$ be a countable set of
          %almost disjoint functions. By Zorn's lemma, we can extend
          %$\mathcal{S}$ to a maximal set of almost disjoint functions
          %$\overline{\mathcal{S}}$. \\

          %We claim that $|\overline{\mathcal{S}}|=2^{\omega}$. Clearly
          %$|\overline{\mathcal{S}}|\leq2^{\omega}$ since
          %$|\mathbb{N}^{\mathbb{N}}|=2^{\omega}$. Assume by contradiction
          %that $\overline{\mathcal{S}}$ is countable, and let
          %$\{f_n:n\in\mathbb{N}\}$ enumerate $\overline{\mathcal{S}}$. We
          %apply Cantor's diagonalization to construct a function $f$ not in
          %$\overline{\mathcal{S}}$ that is almost disjoint with all the
          %functions in $\overline{\mathcal{S}}$, contradicting the
          %maximality of $\overline{\mathcal{S}}$: For each
          %$n\in\mathbb{N}$, let
          %\begin{equation*}
          %  f(n) := \max(f_0(n),\ldots,f_n(n))+1.
          %\end{equation*}
          %Then $f$ will agree with each $f_n$ at a maximum of only the
          %first $n$ points.
        \end{proof}

      \item Let $\mathcal{F}$ be the set of all functions from $\mathbb{N}$
        to $\mathbb{N}$. Consider the structure
        $\mathcal=\langle\mathbb{N},<,(f)_{f\in\mathcal{F}}\rangle$. i.e. the
        language $\mathcal{L}$ of $\mathcal{N}$ has one binary relation $<$
        and a function symbol $f$ for every $f\in\mathcal{F}$. Show that
        every proper elementary extension of $\mathcal{N}$ is uncountable.

        \begin{proof}
          First, note that any elementary extension of $\mathcal{M}$ of
          $\mathcal{N}$ must remain a linear ordering, because
          $\mathcal{N}$ and hence $\mathcal{M}$ satisfies the axioms of
          linear ordering. Also, the extension cannot insert elements
          before $0$, because the models must satisfy the first order
          formula that says that $0$ is the smallest element. Finally, the
          extension cannot insert elements between any two elements $n$ and
          $n+1$ of $\mathbb{N}$, because the models must satisfy the first
          order formula that says that there are no elements between $n$
          and $n+1$. Hence, any elementary extension $\mathcal{M}$ can only
          concatenate a linear chain of elements behind $\mathbb{N}$. So we
          can assume that $M=\mathbb{N}^\frown S$ for some linearly ordered
          $S$, where $^\frown$ denotes concatenate, and each element $s$ of
          $S$ is considered larger than any element in $\mathbb{N}$. \\

          We wish to show that $S$ is not countable. Assume by
          contradiction that $S$ is countable. From the previous part of
          this question, there is an uncoutable set of almost disjoint
          functions $\mathcal{G}=\{f_{\alpha}\}_{\alpha\in2^\omega}$. We
          consider how these functions should be defined in $\mathcal{M}$.
          First, note that each function $f\in\mathcal{F}$ in $\mathcal{M}$
          should preserve how it was defined in $\mathcal{N}$ at each
          $n\in\mathbb{N}$, because models $\mathcal{N}$ and thus
          $\mathcal{M}$ satisfy the formula $f(n)=m$ for each
          $n\in\mathbb{N}$, where $m=f(n)\in\mathbb{N}$.  \\

          Now we consider how each $f_\alpha\in\mathcal{G}$ should be
          extended in $\mathcal{M}$. For each pair of functions $f_\alpha$
          and $f_\beta$ in $\mathcal{G}$, we have $f_\alpha(n)\neq
          f_\beta(n)$ for all $n>N_{\alpha,\beta}$ for some
          $N_{\alpha,\beta}\in\mathbb{N}$.  Hence $\mathcal{N}$ and thus
          $\mathcal{M}$ satisfies the first order formula
          \begin{equation*}
            \varphi_{\alpha,\beta}(N_{\alpha,\beta}) := \forall n\;
            (n>N_{\alpha,\beta}\rightarrow \neg f_\alpha(n)=f_\beta(n)),
          \end{equation*}
          which says that $f_\alpha$ and $f_\beta$ disagree at all points
          after $N_{\alpha,\beta}\in\mathbb{N}$. \\

          Thus any extension of $f_\alpha$ and $f_\beta$ must disagree at
          every point $s$ in $S$. In particular, fixing a point $s_0\in
          S$, we have
          \begin{equation*}
            f_\alpha(s_0)\neq f_\beta(s_0)\in\mathbb{N}\cup S\;\;\;\;
            \text{for all}\; \alpha\neq\beta\in2^\omega.
          \end{equation*}
          However, by assumption, $|\mathbb{N}\cup S|=\omega$, so there
          cannot be $2^\omega$ distinct values for $f_\alpha(s_0)$ for each
          $\alpha\in2^\omega$. Therefore $\mathbb{N}\cup S$ cannot be
          countable.
        \end{proof}
    \end{enumerate}
\end{enumerate}
\end{document}
