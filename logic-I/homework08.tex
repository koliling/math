\documentclass{article}
\usepackage[left=3cm,right=3cm,top=3cm,bottom=3cm]{geometry}
\usepackage{amsmath,amssymb,amsthm,pgfplots,tikz,mathtools}
\usepackage[inline]{enumitem}
\usetikzlibrary{patterns}
\usepackage{color}
\setlength{\parindent}{2mm}
\newcommand{\TODO}[1]{\textcolor{red}{TODO: #1}}

\begin{document}
\title{Basic Logic I: Homework 8}
\author{Li Ling Ko\\ lko@nd.edu}
\date{\today}
\maketitle

\begin{enumerate}[label={\bf Q\arabic*:}]
  \item Let $B\subseteq A\subseteq M$. For $p(\overline{x})\in
    S^{\mathcal{M}}_n(A)$ let \[p\restriction B=\{\varphi(x)\in
    p(\overline{x}):\varphi(\overline{x})\; \text{is a formula over}\;
    B\}.\] Show that the map $p\mapsto p\restriction B$ is a continuous
    map from $S^{\mathcal{M}}_n(A)$ to $S^{\mathcal{M}}_n(B)$.

    \begin{proof}
      First note that the given restriction map is a well-defined because
      any subset of a consistent set of formulas remains consistent, and also
      after restriction the set of sentences remain Complete. Let
      $r:S^{\mathcal{M}}_n(A)\rightarrow S^{\mathcal{M}}_n(B)$ denote the
      restriction map function, let $\phi(\bar{x})$ be a formula over $B$,
      and let $\mathcal{O}_{\phi,B}=\{q\in S^{\mathcal{M}}_n(B):\phi\in
      q\}$. We need to show that $r^{-1}(\mathcal{O}_{\phi,B})$ is open in
      the topology over $S^{\mathcal{M}}_n(A)$. This is true since
      $r^{-1}(\mathcal{O}_{\phi,B})=\mathcal{O}_{\phi,A}$: $\subseteq$
      follows because every $p\in r^{-1}(\mathcal{O}_{\phi,B})$ will
      contain $\phi$; $\supseteq$ follows because every restriction of a
      type in $S^{\mathcal{M}}_n(A)$ that contains $\phi$ is a type in
      $S^{\mathcal{M}}_n(B)$ that contains $\phi$.
    \end{proof}

  \item Let $\mathcal{M}$ be a structure and $B\subseteq M$. For
    $p(x_1,\ldots,x_{m+n})\in S^{\mathcal{M}}_{m+n}(B)$ let $p\restriction
    m=\{\varphi(x_1,\ldots,x_m)\in p(x_1,\ldots,x_{m+n})\}$.

    \begin{enumerate}
      \item Show that $p\restriction m\in S^{\mathcal{M}}_m(B)$ for $p\in
        S^{\mathcal{M}}_{m+n}(B)$.
        \begin{proof}
          This is true from chasing definitions: After restriction the set
          of sentences remain consistent, and hence is still a
          type. If $p\restriction m$ is not Complete over $B$ in
          free variables $x_1,\ldots,x_m$, then there must exist a formula
          $\varphi(x_1,\ldots,x_m)$ over $B$ such that neither itself nor
          its negation is in $p\restriction m$; then since formulas with
          free variables $x_1,\ldots,x_m$ are also considered formulas with
          free variables $x_1,\ldots,x_{m+n}$, then neither
          $\varphi(x_1,\ldots,x_m)$ nor its negation is in $p$, which
          contradicts the Completeness of $p$.
        \end{proof}

      \item Show that the restriction map $p\mapsto p\restriction m$ is
        open, continuous, and surjective as a map from
        $S^{\mathcal{M}}_{m+n}(B)$ to $S^{\mathcal{M}}_{m}(B)$.

        \begin{proof}
          The restriction map is well-defined from the previous part of
          this question. Let $r:S^{\mathcal{M}}_{m+n}(B)\rightarrow
          S^{\mathcal{M}}_{m}(B)$ denote the restriction map. Given a
          formula $\phi$, use $\mathcal{O}_{\phi,n}$ to denote $\{p\in
          S^{\mathcal{M}}_n(B):\phi\in p\}$. \\

          To show that the map is continuous, let $\phi(x_1,\ldots,x_{m})$
          be a formula over $B$. We need to show that
          $r^{-1}(\mathcal{O}_{\phi,m})$ is open in
          $S^{\mathcal{M}}_{m+n}(B)$. Now
          $r^{-1}(\mathcal{O}_{\phi,m})=\mathcal{O}_{\phi,m+n}$:
          $\subseteq$ follows because every $p\in
          r^{-1}(\mathcal{O}_{\phi,m})$ will contain $\phi$; $\supseteq$
          follows because every restriction of a type in
          $S^{\mathcal{M}}_{m+n}(B)$ that contains $\phi$ is a type in
          $S^{\mathcal{M}}_m(A)$ that contains $\phi$. Since
          $\mathcal{O}_{\phi_B,m+n}$ is open in $S^{\mathcal{M}}_{m+n}(B)$,
          the map is continuous. \\

          To show that the map is surjective, let $q$ a type in
          $S^{\mathcal{M}}_{m}(B)$. We need to show that there exists a
          type $p$ in $S^{\mathcal{M}}_{m+n}(B)$ whose restriction is $q$.
          Since $q$ is a type, by Corollary 6.9, there is an elementary
          extension $\mathcal{N}\succeq\mathcal{M}$ and
          $\overline{a'}=(a_1,\ldots,a_m)\subseteq N$ such that
          $q=\text{tp}^\mathcal{N}(\overline{a'}/B)$. Fix an additional
          $a_{m+1},\ldots,a_{m+n}\subseteq N$, let
          $\overline{a}=(a_1,\ldots,a_{m+n})\subseteq N$, and let
          $p=\text{tp}^\mathcal{N}(\overline{a}/B)$. Then from Corollary
          6.9 again, $p\in S^{\mathcal{M}}_{m+n}(B)$. Moreover, the
          restriction of $p$ is $q$. \\

          Finally, to show that the map is open, let
          $\phi'(x_1,\ldots,x_{m+n})$ be a formula over $B$. We need to
          show that $\mathcal{O}_{\phi',m+n}\restriction m$ is open in
          $S^{\mathcal{M}}_{m}(B)$. Let $\phi(x_1,\ldots,x_m)$ be the
          formula over $B$ in $m$ variables, defined as
          \[\phi(x_1,\ldots,x_m) := \exists x_{m+1},\ldots,x_{m+n}\;
          \phi'(x_1,\ldots,x_{m+n}).\] We show that
          $\mathcal{O}_{\phi',m+n}\restriction m=\mathcal{O}_{\phi,m}$,
          which is open in $S^{\mathcal{M}}_{m}(B)$. $\subseteq$ follows
          because every $p$ in $\mathcal{O}_{\phi',m+n}$ contains $\phi'$
          and thus also contains $\phi$ from consistency of $p$. To show
          $\supseteq$, let $q\in\mathcal{O}_{\phi,m}$. We need to find some
          $p\in\mathcal{O}_{\phi',m+n}$ such that $q=p\restriction m$. By
          Corollary 6.9, there is an elementary extension
          $\mathcal{N}\succeq\mathcal{M}$ and
          $\overline{a'}=(a_1,\ldots,a_m)\subseteq N$ such that
          $q=\text{tp}^\mathcal{N}(\overline{a'}/B)$. Then
          $\mathcal{N}\models\exists x_{m+1},\ldots,x_{m+n}\;
          \phi'(a_1,\ldots,a_m,x_{m+1},\ldots,x_{m+n})$, so there exists
          $a_{m+1},\ldots,a_{m+n}\subseteq N$ such that
          $\mathcal{N}\models\phi'(a_1,\ldots,a_{m+n})$. Let
          $\overline{a}=(a_1,\ldots,a_{m+n})\subseteq N$, and let
          $p=\text{tp}^\mathcal{N}(\overline{a}/B)$. Then from Corollary
          6.9 again, $p\in S^{\mathcal{M}}_{m+n}(B)$ and $\phi'\in p$, so
          $p\in\mathcal{O}_{\phi',m+n}$. Moreover, the
          restriction of $p$ is $q$. \\
        \end{proof}
    \end{enumerate}

  \item Show that a subset $X\subseteq S^{\mathcal{M}}_n(A)$ is closed and
    open if and only if $X=\mathcal{O}_\varphi$  for some formula $\varphi$
    over $A$.

    \begin{proof}
      Let $X=\mathcal{O}_\varphi$. Then $X$ is open by definition of the
      basis of the topological space. Also, $S^{\mathcal{M}}_n(A)\setminus
      X=\mathcal{O}_{\neg\varphi}$, because every $p\in
      S^{\mathcal{M}}_n(A)$ must contain exactly one of $\varphi$ or
      $\neg\varphi$ by Completeness and consistency. Hence $X$ is also
      closed. \\

      Let $X\subseteq S^{\mathcal{M}}_n(A)$ be both open and closed. Since
      $X$ is open, $X=\cup_{i\in I}\mathcal{O}_{\varphi_i}$ for some set of
      formulas $\{\varphi_i\}_{i\in I}$. Similarly, since
      $S^{\mathcal{M}}_n(A)\setminus X$ is open, it is equals to
      $\cup_{j\in J}\mathcal{O}_{\phi_j}$ for some set of formulas
      $\{\phi_j\}_{j\in J}$. Then $\cup_{i\in
      I}\mathcal{O}_{\varphi_i}\cup\cup_{j\in J}\mathcal{O}_{\phi_j}$ is an
      open cover of $S^{\mathcal{M}}_n(A)$, so by compactness of
      $S^{\mathcal{M}}_n(A)$ as stated in Claim 6.12,
      $S^{\mathcal{M}}_n(A)$ is covered by some finite
      $\mathcal{O}_{\varphi_1},\ldots,\mathcal{O}_{\varphi_m}$ and
      $\mathcal{O}_{\phi_1},\ldots,\mathcal{O}_{\phi_n}$. Then
      $X=\cup_{i=1}^{m}\mathcal{O}_{\varphi_i}$, so it suffices to show
      that $\cup_{i=1}^{m}\mathcal{O}_{\varphi_i}=\mathcal{O}_{\varphi}$,
      where $\varphi$ is the disjunction of $\varphi_1,\ldots,\varphi_m$.
      $\subseteq$ holds because any type $p\in S^{\mathcal{M}}_n(A)$ that
      contains $\varphi_i$ must also contain $\varphi$ from Completeness
      and consistency of $p$. Similarly, $\supseteq$ holds because any type
      $p\in S^{\mathcal{M}}_n(A)$ that contains $\varphi$ must also
      contain $\varphi_i$ for some $i\in\{1,\ldots,m\}$ from Completeness
      and consistency of $p$. 
    \end{proof}

  \item For a type $p(v_1,\ldots,v_n)$ in $\mathcal{M}$ over $A$ (not
    necessarily complete) we denote by $[p]$ the subset of
    $S^{\mathcal{M}}_n(A)$ defined as \[[p]=\bigcap_{\varphi\in
    p}\mathcal{O}_{\varphi}.\] Show that for types $p$, $q$ in
    $\mathcal{M}$ over $A$ we have $p\sim q$ if and only if $[p]=[q]$.

    \begin{proof}
      First, note that $[p]$ is non-empty: By Proposition 6.3, there is an
      elementary extension $\mathcal{N}$ of $\mathcal{M}$ that realizes
      $p$; we can Complete $p$ by including all formulas over $A$ in
      $n$-variables that are true in the $\mathcal{N}$; the Completion will
      be in $[p]$. Similarly $[q]$ is non-empty by consistency of $q$. \\

      $\Rightarrow$: Assume $p\sim q$. By symmetry it suffices to show
      $[p]\subseteq[q]$. Let $r\in[p]$. Then $r$ is a Complete $n$-type
      that contains all formulas in $p$. Then given any $\phi\in q$, since
      $p\vdash\phi$, $r$ must also contain $\phi$ by consistency and
      Completeness of $r$. Hence $r$ contains all formulas in $q$, which
      implies $r\in[q]$. \\

      $\Leftarrow$: Assume $[p]=[q]$. By symmetry it suffices to show that
      $p\vdash q$. Let $\phi$ be a formula in $q$. We need to show that
      $p\vdash\phi$. Assume by contradiction that $p\not\vdash\phi$. Then
      $p\cup\{\neg\phi\}$ is consistent. Let $\mathcal{N}$ be an elementary
      extension of $\mathcal{M}$ that realizes $p\not\vdash\phi$; such
      $\mathcal{N}$ exists from Proposition 6.3. Let $p'\supseteq
      p\cup\{\neg\phi\}$ be the Completion of $p\cup\{\neg\phi\}$ by
      including all formulas over $A$ in $n$-variables that are true in
      $\mathcal{N}$. Then $p'\in[q]$ since $p'\in[p]$ and $[p]=[q]$, yet
      $p'$ contains both $\phi$ and $\neg\phi$, contradicting the
      consistency of $p'$.
    \end{proof}

  \item Let $\mathcal{M}$ be a first order structure and $a,b\in M$.
    \begin{enumerate}
      \item Assume $\varphi(x,y)$ isolates the type
        $\text{tp}^{\mathcal{M}}(a,b/\emptyset)$. Show that $\exists
        x\; \varphi(x,y)$ isolates the type
        $\text{tp}^{\mathcal{M}}(b/\emptyset)$ and $\varphi(x,b)$ isolates
        $\text{tp}^{\mathcal{M}}(a/b)$.

        \begin{proof}
          We first prove the first assertion. Assume by contradiction that
          $\exists x\varphi(x,y)$ does not isolate
          $\text{tp}^{\mathcal{M}}(b/\emptyset)$. Then there must exist a
          formula $\theta(y)\in\text{tp}^{\mathcal{M}}(b/\emptyset)$ such
          that $\mathcal{M}\not\models\exists x
          \varphi(x,y)\rightarrow\theta(y)$. This means there exists $b'\in
          M$ such that $\mathcal{M}\models\exists x\varphi(x,b')$ and
          $\mathcal{M}\models\neg\theta(b')$. The first formula implies
          that there exists $a'\in M$ such that
          $\mathcal{M}\models\varphi(a',b')$. So we have
          $\mathcal{M}\models\varphi(a',b')\wedge\neg\theta(b')$, which
          means $\mathcal{M}\not\models\varphi(x,y)\rightarrow\theta(y)$.
          However, since
          $\theta(y)\in\text{tp}^{\mathcal{M}}(b/\emptyset)\subseteq
          \text{tp}^{\mathcal{M}}(a,b/\emptyset)$, the statement
          contradicts $\varphi(x,y)$ isolating
          $\text{tp}^{\mathcal{M}}(a,b/\emptyset)$. \\

          The second assertion can be proven in a similar manner. Assume by
          contradiction that $\varphi(x,b)$ does not isolate
          $\text{tp}^{\mathcal{M}}(a/b)$. Then there must exist a formula
          $\theta(x,b)\in\text{tp}^{\mathcal{M}}(a/b)$ such that
          $\mathcal{M}\not\models\varphi(x,b)\rightarrow\theta(x,b)$. This
          means there exists $a'\in M$ such that
          $\mathcal{M}\models\varphi(a',b)\wedge\neg\theta(a',b)$, which
          means $\mathcal{M}\not\models\varphi(x,y)\rightarrow\theta(x,y)$.
          However, since
          $\theta(x,y)\in\text{tp}^{\mathcal{M}}(a,b/\emptyset)$, the
          statement contradicts $\varphi(x,y)$ isolating
          $\text{tp}^{\mathcal{M}}(a,b/\emptyset)$. \\
        \end{proof}

      \item Prove Claim 7.1: The type
        $\text{tp}^{\mathcal{M}}(\overline{a},\overline{b}/\emptyset)$ is
        isolated if and only if both types
        $\text{tp}^{\mathcal{M}}(\overline{a}/\emptyset)$ and
        $\text{tp}^{\mathcal{M}}(\overline{b}/\overline{a})$ are isolated.

        \begin{proof}
          If $\varphi(\overline{x},\overline{y})$ isolates type
          $\text{tp}^{\mathcal{M}}(\overline{a},\overline{b}/\emptyset)$,
          then from the previous part of this question, $\exists y\;
          \varphi(\overline{x},\overline{y})$ isolates the type
          $\text{tp}^{\mathcal{M}}(\overline{a}/\emptyset)$. Also from the
          previous part of this question,
          $\varphi(\overline{x},\overline{b})$ isolates
          $\text{tp}^{\mathcal{M}}(\overline{a}/\overline{b})$. \\

          For the converse, assume $\varphi_1(\overline{x})$ isolates
          $\text{tp}^{\mathcal{M}}(\overline{a}/\emptyset)$ and
          $\varphi_2(\overline{a},\overline{y})$ isolates
          $\text{tp}^{\mathcal{M}}(\overline{b}/\overline{a})$. We claim
          that
          $\varphi_1(\overline{x})\wedge\varphi_2(\overline{x},\overline{y})$
          isolates
          $\text{tp}^{\mathcal{M}}(\overline{a},\overline{b}/\emptyset)$.
          Let
          $\theta(\overline{x},\overline{y})$ be a formula in
          $\text{tp}^{\mathcal{M}}(\overline{a},\overline{b}/\emptyset)$.
          Then $\theta(\overline{a},\overline{y})$ is a formula in
          $\text{tp}^{\mathcal{M}}(\overline{b}/\overline{a})$, so we have
          \[\mathcal{M}\models
          \varphi_2(\overline{a},\overline{y})\rightarrow
          \theta(\overline{a},\overline{y}),\]
          which means
          \[\mathcal{M}\models
          \forall \overline{y}\;
          (\varphi_2(\overline{a},\overline{y})\rightarrow
          \theta(\overline{a},\overline{y})).\]
          Then $\forall \overline{y}\;
          (\varphi_2(\overline{x},\overline{y})\rightarrow
          \theta(\overline{x},\overline{y}))$ is contained in
          $\text{tp}^{\mathcal{M}}(\overline{a}/\emptyset)$, which implies
          \[\mathcal{M}\models
          \varphi_1(\overline{x})\rightarrow \forall \overline{y}\;
          (\varphi_2(\overline{x},\overline{y})\rightarrow
          \theta(\overline{x},\overline{y})).\]
          The formula at the right is equivalent to
          \[\forall\overline{y}\; (\varphi_1(\overline{x})\rightarrow
          \varphi_2(\overline{x},\overline{y})\rightarrow
          \theta(\overline{x},\overline{y})),\]
          which is equivalent to
          \[\forall\overline{y}\; (\varphi_1(\overline{x})\wedge
          \varphi_2(\overline{x},\overline{y})\rightarrow
          \theta(\overline{x},\overline{y})),\]
          therefore we have 
          \[\mathcal{M}\models \varphi_1(\overline{x})\wedge
          \varphi_2(\overline{x},\overline{y})\rightarrow
          \theta(\overline{x},\overline{y}).\]
          Hence 
          $\varphi_1(\overline{x})\wedge\varphi_2(\overline{x},\overline{y})$
          isolates
          $\text{tp}^\mathcal{M}(\overline{a},\overline{b},\emptyset)$.
        \end{proof}
    \end{enumerate}

  \item Let $T$ be a countable complete theory, $\mathcal{M}$ a countable
    model of $T$, and $A$ a finite subset of $M$. Let $\mathcal{M}_A$ be
    the obvious expansion of $\mathcal{M}$ to the language $\mathcal{L}(A)$
    and $\text{Th}_A(\mathcal{M})$ the complete theory of $\mathcal{M}_A$.
    Show that $T$ is $\omega$-categorical if and only if the theory
    $\text{Th}_A(\mathcal{M})$ is $\omega$-categorical.

    \begin{proof}
      Note that we can assume that $T$ and $\text{Th}_A(\mathcal{A})$ has
      no finite models: Otherwise they would satisfy a sentence in the
      original language that says there are exactly $n$ elements for some
      $n\in\mathbb{N}$; then there will be no models of cardinality
      $\omega$ and so both theories will be trivially $\omega$-categorical.
      \\

      Assume $\text{Th}_A(\mathcal{M})$ is $\omega$-categorical. Then by
      Theorem 7.7, every $S_n(\text{Th}_A(\mathcal{M}))$ is finite. Now
      by definition, every type in $S_n(T)$ is the restriction of a type in
      $S_n(\text{Th}_A(\mathcal{M}))$, where the restriction is defined by
      removing all formulas that contain the new constants. Hence $S_n(T)$
      is finite from finiteness of $S_n(\text{Th}_A(\mathcal{M}))$, so from
      Theorem 7.7 again, $T$ is $\omega$-categorical. \\

      For the converse, assume $T$ is $\omega$-categorical. Write
      $A=\{a_1,\ldots,a_k\}$. Let $p$ be a
      type in $S_n(\text{Th}_A(\mathcal{M}))$. From Theorem 7.7, it
      suffices to show that $p$ is isolated. Let
      \[p':=\{\varphi(x_1,\ldots,x_n,x_{n+1},\ldots,x_{n+k}):
      \varphi(x_1,\ldots,x_n,a_1,\ldots,a_k)\in p\}.\] Then using Zorn's
      lemma, we can Complete $p'$ to some Complete type $q\in S_{n+k}(T)$.
      Now $q$ is principal from Theorem 7.7 since $T$ is
      $\omega$-categorical, so $q$ is isolated by some formula
      $\theta(x_1,\ldots,x_{n+k})$. We show that
      $\theta(x_1,\ldots,x_n,a_1,\ldots,a_k)$ isolates $p$: Given
      $\phi(x_1,\ldots,x_n,a_1,\ldots,a_k)\in p$, by construction of $q$,
      $\phi(x_1,\ldots,x_{n+k})$ must be contained in $q$. Then
      \[\mathcal{M}\models
      \theta(x_1,\ldots,x_{n+k})\rightarrow\phi(x_1,\ldots,x_{n+k})\] since
      $\theta(x_1,\ldots,x_{n+k})$ isolates $q$. In particular, we have
      \[\mathcal{M}\models
      \theta(x_1,\ldots,x_n,a_{n+1},\ldots,a_{n+k})\rightarrow
      \phi(x_1,\ldots,x_n,a_{n+1},\ldots,a_{n+k}).\] Thus
      $\theta(x_1,\ldots,x_n,a_{n+1},\ldots,a_{n+k})$ isolates $p$.
    \end{proof}

  \item Let $T$ be the theory of algebraically closed fields of
    characteristic 0. Show that isolated types are dense in $S_1(T)$.
    \begin{proof}
      Note that we can work in any model $\mathcal{M}$ of $\text{ACF}_0$
      from Corollary 6.17. In particular, we can assume $M=\mathbb{C}$.
      Note also from previous exercise $\text{ACF}_0$ has quantifier
      elimination property. Further, note that in the language of
      $\text{ACF}_0$, the atomic formulas in one variable $x$ are of the
      form $t_1(x)=t_2(x)$, which after rearranging, will give a formula of
      the form $p(x)=0$ where $p(x)\in\mathbb{Z}[x]$. Hence atomic formulas
      in one variable describe roots of polynomials with integer
      coefficients. \\

      We want to show that every open set contains an isolated Complete
      type. It suffices to consider open sets of the form
      $\mathcal{O}_\varphi$ since such open sets form the basis of the
      toplogy. Then since $\text{ACF}_0$ has QE, we can assume $\varphi(x)$
      is quantifier free. Decomposing $\varphi(x)$ to its DNF form, and
      since \[\mathcal{O}_{\phi_1\vee\ldots\vee\phi_n} =
      \mathcal{O}_{\phi_1}\cup\ldots\cup\mathcal{O}_{\phi_n}\] when we
      chase definitions, we can further assume that $\varphi(x)$ is a
      conjunction of formulas of the form $p(x)\square\; 0$ where
      $p(x)\in\mathbb{Z}[x]$ and $\square$ is either $=$ or $\neq$. Note
      that by the consistency of $\mathcal{O}_\varphi$, we can assume that
      the conjunction of these atomic formulas has a solution in
      $\mathbb{C}$. \\

      There are two cases. In the first case, in the conjunction of the
      atomic formulas, one of the formulas is of the form $p(x)=0$. Then
      let $a$ be a root of $p(x)$ that is satisfied by the other atomic
      formulas in the conjunction, and let $q(x)$ be the minimal polynomial
      of $a$ over $\mathbb{Z}$. Consider
      $p=\text{tp}^\mathbb{C}(a/\emptyset)$. Then $q(x)$ isolates $p$, and
      $p\in\mathcal{O}_\varphi$, as required. \\

      In the second case, in the conjunction of the atomic formulas, all
      formulas are of the form $p(x)\neq0$, i.e. $\varphi(x)$ is of the
      form \[\varphi(x)=p_1(x)\neq0\wedge\ldots\wedge p_k(x)\neq0.\] Then
      pick any $n\in\mathbb{N}$ such that $n$ is not a root of any
      $p_i(x)$. Such $n$ exists since $\mathbb{N}$ is infinite and each
      $p_i(x)$ can only have a finite number of roots.  Consider
      $p=\text{tp}^\mathbb{C}(n/\emptyset)$. Then
      $p\in\mathcal{O}_\varphi$. Also, the formula $x=1+\ldots+1$, where we
      add 1 $n$-times, isolates $p$, as required. \\
    \end{proof}
\end{enumerate}
\end{document}
