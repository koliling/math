\documentclass{article}
\usepackage[left=3cm,right=3cm,top=3cm,bottom=3cm]{geometry}
\usepackage{amsmath,amssymb,amsthm,pgfplots,tikz,mathtools}
\usepackage[inline]{enumitem}
\usetikzlibrary{patterns}
\usepackage{color}
\setlength{\parindent}{2mm}
\newcommand{\TODO}[1]{\textcolor{red}{TODO: #1}}

\begin{document}
\title{Basic Logic I: Homework 9}
\author{Li Ling Ko\\ lko@nd.edu}
\date{\today}
\maketitle

\begin{enumerate}[label={\bf Q\arabic*:}]
  \item Let $A=\{a_1,\ldots,a_m\}$ be a finite subset of a structure
    $\mathcal{M}$. For $p(x_1,\ldots,x_n)\in S_n(A)$ let
    $\tilde{p}(x_1,\ldots,x_n)$ be the following set of formulas over
    $\emptyset$
    \[\tilde{p}=\{\varphi(x_1,\ldots,x_{n+m}):
    \varphi(x_1,\ldots,x_n,a_1,\ldots,a_m)\in p\}.\]
    Show that $\tilde{p}$ is a Complete type over $\emptyset$ and the
    map $p\mapsto\tilde{p}$ is an injective map from $S_n(A)$ to
    $S_{n+m}(T)$.

    \begin{proof}
      To show that $\tilde{p}$ is Complete, let
      $\varphi(x_1,\ldots,x_{n+m})$ be any formula in $(n+m)$ variables. We
      need to show that either $\varphi$ or $\neg\varphi$ is in
      $\tilde{p}$. Now since $p$ is Complete, either
      $\varphi(x_1,\ldots,x_n,a_1,\ldots,a_m)$ or
      $\neg\varphi(x_1,\ldots,x_n,a_1,\ldots,a_m)$ is in $p$, so by
      definition of $\tilde{p}$, either $\varphi$ or $\neg\varphi$ will be
      in $\tilde{p}$. \\

      To show that the map is injective, assume that $\tilde{p}=\tilde{q}$.
      Then given any formula $\varphi(x_1,\ldots,x_{n+m})$ in $(n+m)$
      variables, we have
      \begin{align*}
                        & \varphi(x_1,\ldots,x_n,a_1,\ldots,a_m) &\in p & \\
        \Leftrightarrow & \varphi(x_1,\ldots,x_{n+m}) &\in \tilde{p} & \\
        \Leftrightarrow & \varphi(x_1,\ldots,x_{n+m}) &\in \tilde{q} & \\
        \Leftrightarrow & \varphi(x_1,\ldots,x_n,a_1,\ldots,a_m) &\in q & \\
      \end{align*}
      Hence $p=q$, and the map is injective.
    \end{proof}

  \item Let $\mathcal{M}$, $\mathcal{N}$ be structures and
    $f:\mathcal{M}\rightarrow\mathcal{N}$ a partial elementary map with a
    finite domain $A=\text{dom}(f)$. If $\varphi(x)$ is a formula over $A$
    then it has form $\Psi(x,a_1,\ldots,a_m)$ for some formula
    $\Psi(x,x_1,\ldots,x_m)$ over $\emptyset$ and $a_1,\ldots,a_m \in A$,
    and we will denote by $f(\varphi)$ the formula
    $\Psi(x,f(a_1),\ldots,f(a_m))$. For a type $p(x)\in S_1(A)$ let
    $f(p)=\{f(\varphi):\varphi\in p\}$.
    \begin{enumerate}
      \item Show that $f(p)$ is a type in $\mathcal{N}$ over
        $\text{range}(f)$.

        \begin{proof}
          Let $\overline{a}$ denote $(a_1,\ldots,a_m)$. Given any finite
          set of formulas
          $\varphi_1(x,f(\overline{a})),\ldots,\varphi_n(x,f(\overline{a}))$
          in $f(p)$, we need to show that $\mathcal{N}$ realizes their
          conjunction \[\varphi(x,f(\overline{a})):=
          \varphi_1(x,f(\overline{a}))\wedge
          \ldots\wedge\varphi_n(x,f(\overline{a})),\] or equivalently,
          \[\mathcal{N}\models\exists x\; \varphi(x,f(\overline{a})).\]
          Now for each $i\in\{1,\ldots,n\}$, $\varphi_i(x,\overline{a})$ is
          a formula in $p$ by definition of $f(p)$, therefore by
          Completeness and consistency of $p$, $\varphi(x,\overline{a})$ is
          also in $p$. In other words, $\mathcal{M}$ realizes
          $\varphi(x,\overline{a})$, or equivalently,
          \[\mathcal{M}\models\exists x\; \varphi(x,\overline{a}).\]
          Therefore
          $\exists x\; \varphi(x,\overline{x})\in
          \text{tp}^\mathcal{M}(\overline{a}/\emptyset)$, which implies
          $\exists x\; \varphi(x,\overline{x})\in
          \text{tp}^\mathcal{N}(f(\overline{a})/\emptyset)$ since
          $\text{tp}^\mathcal{M}(\overline{a}/\emptyset)=
          \text{tp}^\mathcal{N}(f(\overline{a})/\emptyset)$. Hence
          $\mathcal{N}\models\exists x\; \varphi(x,f(\overline{a}))$ as
          required.
        \end{proof}

      \item Let $a$ realizes $p$ in $\mathcal{M}$ and $b$ realize $f(p)$ in
        $\mathcal{N}$. Show that $f\cup\{(a,b)\}$ is a partial elementary
        map.
        \begin{proof}
          We want to show that
          $\text{tp}^\mathcal{M}(a\overline{a}/\emptyset)
          =\text{tp}^\mathcal{N}(bf(\overline{a})/\emptyset)$, or
          equivalently, given any formula $\varphi(x,\overline{x})$ in
          $(m+1)$ variables, we have
          \[\mathcal{M}\models\varphi(a,\overline{a}))\Leftrightarrow
          \mathcal{N}\models\varphi(b,f(\overline{a})).\]
          Let $\varphi(x,\overline{x})$ be a formula in $(m+1)$ variables.
          Then
          \begin{align*}
            \mathcal{M}\models\varphi(a,\overline{a}))  & \Leftrightarrow
            \varphi(x,\overline{a})\in p(x) & (\text{by Completeness of}\;
              p(x)) \\
              & \Leftrightarrow \varphi(x,f(\overline{a}))\in f(p(x)) &
              (\text{by definition of}\; f(p)\; \text{and Completeness
              of}\; f(p)) \\
              & \Leftrightarrow \mathcal{N}\models\varphi(b,f(\overline{a}))) &
              (\text{by Completeness of}\; f(p)), \\
          \end{align*}
          as we are required to show.
        \end{proof}
    \end{enumerate}
\end{enumerate}
\end{document}
