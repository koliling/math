\documentclass{article}
\usepackage[left=3cm,right=3cm,top=3cm,bottom=3cm]{geometry}
\usepackage{amsmath,amssymb,amsthm,tikz,mathtools}
\usepackage{color}
\usepackage[inline]{enumitem}
\usetikzlibrary{patterns}
\setlength{\parindent}{0mm}
\newcommand{\TODO}[1]{\textcolor{red}{TODO: #1}}

\begin{document}
\title{Basic Logic I: Homework 11}
\author{Li Ling Ko\\ lko@nd.edu}
\date{\today}
\maketitle

\begin{enumerate}[label={\bf Q\arabic*:}]
  \item Let $T$ be an inductive theory in a countable language and $\kappa$
    an infinite cardinal. Prove that if $T$ is $\kappa$-categorical then
    $T$ is model complete.

    \begin{proof}
      Let $T'$ denote the theory $T$ extended with the countable set of
      sentences that say ``I have at least $n$ elements'' for each
      $n\in\mathbb{N}$. Specifically, $T':=T\cup\{\phi_{\geq
      n}:n\in\mathbb{N}\}$, where
      \[\phi_{\geq n}:= \exists\; x_1,\ldots,x_n\; \bigwedge_{1\leq
        i<j\leq n} x_i\neq x_j.\]
      Note that from Vaught's test (Theorem 4.34), $T'$
      is a complete theory from $\kappa$-categoricity of $T$. \\

      Let $\mathcal{M}$ be an arbitrary model of $T$. To show
      model-completeness, we need to show that $\mathcal{M}$ is an
      ec-closed model of $T_\forall$ (Theorem 11.14.3). Now the models of
      $T_\forall$ are the substructures of models of $T$ (Lemma 11.2), thus
      we need to show that if $\mathcal{M}\leq
      \mathcal{N}_0\leq\mathcal{N}\models T$,
      then $\mathcal{M}\leq_{\text{ec}}\mathcal{N}_0$. \\

      First consider the case where $\mathcal{M}$ is infinite. Let
      $\lambda=\max(|\mathcal{N}|,\omega)$. Let $\mathcal{N}_\lambda\models
      T'$ be a $\lambda^+$-saturated model of cardinality $\leq2^\lambda$.
      Such a model exists from completeness of $T'$ (Theorem 8.11). Then
      since $\mathcal{M},\mathcal{N}\models T'$ and
      $|\mathcal{M}|\leq|\mathcal{N}|=\lambda<\lambda^+$, both
      $\mathcal{M}$ and $\mathcal{N}$ can be elementarily embedded into
      $\mathcal{N}_\lambda$ (Theorem 8.13.1). Then given arbitrary
      quantifier-free formula $\varphi(\bar{x},\bar{y})$ and $\bar{m}\in
      M$, we have

      \begin{align*}
        \mathcal{N}_0\models \exists\bar{x}\; \varphi(\bar{x},\bar{m})
          &\Rightarrow\mathcal{N}\models \exists\bar{x}\;
          \varphi(\bar{x},\bar{m}) &(\because \mathcal{N}_0\leq\mathcal{N})
          \\
          &\Leftrightarrow\mathcal{N}_\lambda\models \exists\bar{x}\;
            \varphi(\bar{x},\bar{m}) &(\because
            \mathcal{N}\preceq\mathcal{N}_\lambda) \\
          &\Leftrightarrow\mathcal{M}\models \exists\bar{x}\;
            \varphi(\bar{x},\bar{m}), &(\because
            \mathcal{M}\preceq\mathcal{N}_\lambda) \\
      \end{align*}
      thus $\mathcal{M}\leq_{\text{ec}}\mathcal{N}_0$ as required. \\

      We have shown that $T'$ is model-complete. We now show that therefore
      $T$ is also model-complete. This is equivalent to showing (by Theorem
      11.16.3) that given any formula $\varphi(\bar{x})$, there is a
      quantifier-free formula $\theta(\bar{x},\bar{y})$ such that
      \[T\models \forall\bar{x}\; [\varphi(\bar{x})\leftrightarrow
        \exists\bar{y}\; \theta(\bar{x},\bar{y})].\]

      Now since $T'$ is model complete, there is a quantifier-free formula
      $\theta'(\bar{x},\bar{y})$ such that
      \[T'= T\cup\{\phi_{\geq n}:n\in\mathbb{N}\} \models
      \forall\bar{x}\; [\varphi(\bar{x})\leftrightarrow \exists\bar{y}\;
      \theta'(\bar{x},\bar{y})].\]

      If $T$ alone models the formula on the right then we are done.
      Otherwise by compactness theorem, there must be a non-empty finite
      subset of $\{\phi_{\geq n}:n\in\mathbb{N}\}$ such that $T$ union this
      subset models the formula on the right. Then since $\phi_{\geq n}$
      implies $\phi_{\geq m}$ if $n>m$, there must be a minimal
      $n\in\mathbb{N}$ such that
      \[T\cup\{\phi_{\geq n}\} \models \forall\bar{x}\;
      [\varphi(\bar{x})\leftrightarrow \exists\bar{y}\;
      \theta'(\bar{x},\bar{y})].\]

      In other words, models of

      %Now consider the case where $\mathcal{M}$ is finite. Write
      %$M=\{m_1,\ldots,m_n\}$. Then $\mathcal{N}_0\geq\mathcal{M}$ must also
      %have $n$-elements, otherwise the existential-formula
      %\[\exists x\; (x\neq m_1\wedge \ldots\wedge x\neq m_n)\]
      %will be satisfied by $\mathcal{N}_0$ and not by $\mathcal{M}$, and
      %then $\mathcal{M}$ cannot be ec-closed in $\mathcal{N}_0$. Thus the
      %embedding of $\mathcal{M}$ into $\mathcal{N}_0$ will be an
      %isomorphism, and thus $\mathcal{M}\leq_{\text{ec}}\mathcal{N}_0$
      %trivially.
    \end{proof}

  \item Let $\mathcal{L}$ be the language containing a unary function $f$
    and a binary relation symbol $R$. Let $T$ be the $\mathcal{L}$-theory
    $T=\{\forall x\forall y\; [R(x,y)\rightarrow R(x,f(y))]\}$.

    \begin{enumerate}
      \item Let $\mathcal{M}$ be an existentially closed in $T$ structure,
        and $a,b\in M$ with $b\not\in\{a,f(a),f^2(a),\ldots\}$. Show that
        $\mathcal{M}\models \exists x\; (R(x,a)\wedge\neg R(x,b))$.

        \begin{proof}
          Assume by contradiction that $\mathcal{M}\models \forall x\;
          (R(x,a)\rightarrow R(x,b))$. We construct an extension
          $\mathcal{N}$ of $\mathcal{M}$ with $N=M\sqcup\{c\}$
          such that $\mathcal{N}\models \exists x\; (R(x,a)\wedge\neg
          R(x,b))$ with $c$ as the witness. Set $f^\mathcal{N}(c)=c$, and
          \[R^\mathcal{N}= R^\mathcal{M} \cup
          \{(c,f^n(a)):n\in\mathbb{N}\}.\]

          These relations will ensure that $\mathcal{N}$ is a model of $T$
          and that $c$. Also, since $b\neq f^n(a)$ for all
          $n\in\mathbb{N}$, $c$ will witness $\mathcal{N}\models \exists x\;
          (R(x,a)\wedge\neg R(x,b))$. Also, since the new relations each
          involve the new element $c$, $\mathcal{N}$ is an extension of
          $\mathcal{M}$. Thus, from existential closure of $\mathcal{M}$,
          we have $\mathcal{M}\models \exists x\; (R(x,a)\wedge\neg
          R(x,b))$, a contradiction.
        \end{proof}

      \item Let $\mathcal{M}$ be a model of $T$ and $a\in M$ with
        $f^n(a)\neq f^m(a)$ for all $n\neq m$. Show that there is an
        elementary extension $\mathcal{N}$ of $\mathcal{M}$ and
        $b\not\in\{a,f(a),f^2(a),\ldots\}$ with $\mathcal{N}\models\forall
        x\; [R(x,a)\rightarrow R(x,b)]$.

        \begin{proof}
          Let $\mathcal{L}'=\mathcal{L}(\mathcal{M})\cup\{b\}$, where $b$
          is a constant that does not appear in $\mathcal{L}(\mathcal{M})$.
          Let
          \[\begin{array}{rrl}
            T' &:= &T_\mathcal{M} \\
              &&\cup \{c_m\neq c_n:m\neq n\in M\} \\
              &&\cup\{R(c_m,b):m\in R(M,a)\} \\
              &&\cup\{b\neq f^n(a):n\in\mathbb{N}\}
          \end{array}\]
          be a theory in the language $\mathcal{L}'$. We show that
          $T'$ is finitely satisfied by $\mathcal{M}$: Assign each $c_m$ to
          $m\in M$. Then clearly $\mathcal{M}$ satisfies all sentences in
          $T_\mathcal{M}$ and also formulas of the form $c_m\neq c_n\in
          T'$ by definition. Given a finite set of formulas
          $\{b\neq f^{0}(a),\ldots,b\neq f^{n}(a)\}\subset T'$, assign $b$
          to $f^{n+1}(a)\in M$. This assignment will satisfy formulas of
          the form $R(c_m,b)\in T'$ for each $m\in R(M,a)$ because $R(m,a)$
          implies $R(m,f^{n+1}(a))$ by induction on $n$. Also, since
          $f^{n+1}(a)\neq f^i(a)$ for all $i<n+1$, the assignment will also
          satisfy the chosen finite set of formulas. \\

          Thus by Compactness theorem $T'$ is satisfied by some model
          $\mathcal{N}$. Then since $T\subset T'$ and $T_\mathcal{M}\subset
          T'$, $\mathcal{N}$ is an elementary extension of $\mathcal{M}$ in
          the original language $\mathcal{L}$, and also
          $\mathcal{N}\models\forall x\; [R(x,a)\rightarrow R(x,b)]$ by our
          choice of $T'$.
        \end{proof}

      \item Show that the class of existentially closed in $T$ structures
        is not axiomatizable.
        \begin{proof}
        \end{proof}
    \end{enumerate}
\end{enumerate}
\end{document}
