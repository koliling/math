\begin{frame}{$\mathcal{A}$ contains $\Sigma_1^1$ subset ($\neq\emptyset$)
$\Rightarrow$ $\mathcal{A}$ $\Pi_1^0$-encodable}
  \begin{itemize}
    \item Fix $\mathcal{A}$ containing $\mathcal{B} =\{X: (\exists
      Y)(\forall s)\; R(X,Y,s)\} \neq\emptyset$.
    \item Fix $X\in\mathcal{B}$, $Y$ such that $(\forall s)\;R(X,Y,s)$.
    \item Define $f(n)=\max(X(n),Y(n))$.
    \item Then $f$ is a $\Pi_1^0$-modulus of $\mathcal{A}$, i.e. $f$ is
      dominating enough that every $g\geq f$ computes a $g$-bounded tree
      $T$ whose paths all lie in $\mathcal{A}$:
    \item Given $g\geq f$, the $\Pi_1^{0,g}$-set of paths
      \[\{X\leq g:(\forall s)(\exists \sigma\in 2^s, \sigma\leq g)(\forall
      s'<s)\; R(X,\sigma,s')\}\]
      is bounded by $g$, contains $X$, and is contained in $\mathcal{A}$.
    \item Given arbitrary $X\in[\omega]^\omega$, remove enough elements to
      make a sparse $Y\in[X]^\omega$ with $p_Y>f$.
    \item Then $p_Y$ witnesses $\Pi_1^0$-encodability of $\mathcal{A}$ for
      $X$.
  \end{itemize}
\end{frame}

\begin{frame}{Subsets compute no path in $\mathcal{A}$}
  \begin{main-thm*}[Harder direction]
    $\mathcal{A}$ compact, contains no $\Sigma_1^1$-subset
    ($\neq\emptyset$). Then there exists infinite set $X$ whose subsets
    compute no path in $\mathcal{A}$.
  \end{main-thm*}

  The proof hinges on Galvin-Prikry. Fix Turing machine $\Gamma$, node
  $\sigma$.
  \begin{fact}[Galvin-Prikry]
    $Z\in[\omega]^\omega$. There exists solution $X\in[Z]^\omega$
    where one of these holds:\\
    \textbf{Positive solution:} All subsets of $X$ compute $\sigma$
    (via $\Gamma$)\\
    \textbf{Negative solution:} All subsets of $X$ do not compute $\sigma$
    (via $\Gamma$)
  \end{fact}
  \textbf{Proof sketch of GP:} The class of subsets of $Z$ that
  compute $\sigma$ can be coded to form an open set in $2^\omega$. Being
  open provides enough ``structure'' for regions of homogeneity to exist.
\end{frame}

\begin{frame}{Subsets compute no path in $\mathcal{A}$}
  \textbf{Proof idea:} Want $X$ whose subsets compute no path in 
  $\mathcal{A}$. Fix machine. Then given any node $\sigma$, GP finds
  solution $X$ whose subsets either all compute $\sigma$ ($X$ is positive
  solution), or all do not compute $\sigma$ ($X$ is negative solution).
  Exhaust cases:

  \vspace{1em}
  \textbf{Case 0:} GP has positive solutions for arbitrarily long nodes in
  $\mathcal{A}$. Then by compactness of $\mathcal{A}$, these nodes induce a
  non-empty $\Sigma_1^1$-set contained in $\mathcal{A}$,
  $\Rightarrow\Leftarrow$.

  \vspace{0.5em}
  \textbf{Case 1:} GP only has negative solutions for all nodes in
  $\mathcal{A}$ of a particular length. Iterate GP across each such node to
  get $X$ where all these nodes are avoided. Note there are only finitely
  many nodes to avoid since $\mathcal{A}$ is compact.

  %\vspace{0.5em}
  %\textbf{Case 1:} GP answers positively for some node outside $X$.

  \vspace{1em}
  Thus for fixed machine, GP gives us $X$ whose subsets compute no paths in
  $\mathcal{A}$. To find $X$ that works across all machines, iterate across
  the machines, constructing decreasing subsets of such $X$, then take
  intersection.
\end{frame}

\begin{frame}{Subsets compute no path in $\mathcal{A}$ (fixed
machine)}
  \begin{lemma}
    \label{lemma:fixed-machine}
    $\mathcal{A}$ compact, contains no $\Sigma_1^{1,Z}$-set
    ($\neq\emptyset$). Fix Turing functional $\Gamma$. Then there exists
    $X\in[Z]^\omega$ such that every subset of $X$ computes (via $\Gamma$)
    no path in $\mathcal{A}$.

    %\vspace{0.5em}
    %\textbf{Case 2:} For each $n\in\omega$, there exists $X\in[Z]^\omega$
    %such that some $\sigma\in\omega^n$ outside $\mathcal{A}$ is computed by
    %every subset of $X$ (via $\Gamma$).

    %\vspace{0.5em}
    %Furthermore, $X$ can be chosen such that every $\Sigma_1^{1,X}$-set
    %contains a path (if any) outside $\mathcal{A}$.
  \end{lemma}

  \vspace{0.5em}
  \textbf{Case 0:} GP has positive solutions for arbitrarily long
  $\sigma\in\mathcal{A}$. Observe that by finite use principle, given
  $\sigma$, the class $\mathcal{P}_{\sigma}$ of positive solutions is
  $\Sigma_1^{1,Z}$:
  \begin{align*}
    \mathcal{P}_{\sigma}:= &\{X\in[Z]^\omega: \text{All subsets of}\; X\;
      \text{compute}\; \sigma\; (\text{via}\; \Gamma)\}\\
    =&\{X\in[Z]^\omega: \text{All finite subsets of}\; X\;
      \text{compute}\; \sigma\; (\text{via}\; \Gamma)\}
      \in\Sigma_1^{1,Z}.
  \end{align*}
  By compactness of $\mathcal{A}$, the set of arbitrarily long $\sigma$'s
  must contain a path in $\mathcal{A}$. Then $\{f:(\forall \sigma\prec f)\;
  [\mathcal{P}_\sigma \neq \emptyset]\}$ is a non-empty
  $\Sigma_1^{1,Z}$-set contained in $\mathcal{A}$, $\Rightarrow\Leftarrow$.
\end{frame}

\begin{frame}{Subsets compute no path in $\mathcal{A}$ (fixed
machine)}
  \textbf{Case 1:} For some $n$, GP has only negative solutions for every
  $\sigma\in\omega^n\cap\mathcal{A}$. Since $\mathcal{A}$ is compact, it is
  finitely branching, and we can write $\sigma_0,\ldots,\sigma_m$ for the
  nodes in $\omega^n\cap\mathcal{A}$. Iterate GP across $\sigma_i$ to get
  decreasing subsets of negative solutions
  \[Z=X_0 \supseteq X_1 \supseteq \ldots\supseteq X_m=X,\]

  where $X_{i+1}\in[X_i]^\omega$ is a negative solution by GP under
  inputs $X_i$ and $\sigma_i$. $X_{i+1}$ exists since GP has no positive
  solutions for each $\sigma_i$ under $Z$, giving also no
  positive solutions under $X_i\subseteq Z$. $X=X_m$ works.
\end{frame}

\begin{frame}{Subsets compute no path in $\mathcal{A}$ (all
machines)}
  For a fixed machine, Lemma~\ref{lemma:fixed-machine} gives $X$ whose
  subsets compute no paths in $\mathcal{A}$. To find $X$ that works across
  all machines, first fix an enumeration of all machines
  $\Gamma_0,\Gamma_1,\ldots$. Then, iterate Lemma~\ref{lemma:fixed-machine}
  across them to construct decreasing subsets of such $X$
  \[Z= X_0\supseteq X_1\supseteq \ldots,\]
  where $X_s$ works for the first $s$ machines. Then take
  $X=\bigcap_{s\in\omega}X_s$.

  \vspace{1em}
  The difficulty is if we iterate with the current version of
  Lemma~\ref{lemma:fixed-machine}, we may not end up with an infinite $X$.
  To ensure infiniteness, at stage $s$ of the iteration, we want to choose
  the $X_{s+1}\in[X_s]^\omega$ where $X_{s+1}$ preserves the first
  $s$-elements of $X_s$. We strengthen Lemma~\ref{lemma:fixed-machine} to
  ensure that such initial-segment-preserving $X_{s+1}$ exists.
\end{frame}

\begin{frame}{Strengthening Lemma~\ref{lemma:fixed-machine}}
  For successful iteration, we strengthen Lemma~\ref{lemma:fixed-machine}
  by two conditions:
  \newtheorem*{lemma-strengthened*}{Lemma \ref{lemma:fixed-machine}':}
  \begin{lemma-strengthened*}[Strengthened Lemma \ref{lemma:fixed-machine}]
    \label{lemma:fixed-machine-strengthened}
    $\mathcal{A}$ compact, contains no $\Sigma_1^{1,Z}$-set
    ($\neq\emptyset$). Fix $s\in\omega$, Turing functional $\Gamma$. Then
    there exists $X\in[Z]^\omega$ such that every subset of $X$ computes
    (via $\Gamma$) no path in $\mathcal{A}$. Furthermore,\\
    \vspace{0.5em}
    \textbf{Condition 1:} $\mathcal{A}$ contains no $\Sigma_1^{1,X}$-set
    ($\neq\emptyset$), and\\
    \textbf{Condition 2:} $X$ preserves $Z\restriction s$.
  \end{lemma-strengthened*}

  \vspace{1em}
  Assuming Lemma~\ref{lemma:fixed-machine} has been strengthened by the
  first condition, we can satisfy the second one by iterating the
  partially-strengthened lemma across the subsets of $Z\restriction s$.
\end{frame}

\begin{frame}{$X\subseteq Z$ that preserves $Z\restriction s$}
  List the subsets of $Z\restriction s$ as $d_0,\ldots,d_m$. Iterate the
  partially-strengthened lemma across $d_i$ to get decreasing subsets
  \[Z=X_0 \supseteq X_1 \supseteq X_2 \supseteq\ldots \supseteq X_m,\]

  then choose $X=X_m\cup Z\restriction s$. At stage $i<m$, the lemma is
  applied with inputs $X_i$ and $\Gamma_i$ defined by
  \[\Gamma_i(Y) =\Gamma(Y\cup d_i),\]

  giving $X_{i+1}\in[X_i]^\omega$ whose subsets compute (via
  $\Gamma_i$) no path in $\mathcal{A}$, and where $\mathcal{A}$ contains no
  $\Sigma_1^{1,X_i}$-set ($\neq\emptyset$). To see that this $X$ works, fix
  arbitrary $Y\in[X]^\omega$. Then $Y\restriction i=d_i$ for some $i<m$.
\end{frame}

\begin{frame}{$\Sigma_1^1$-subset compute paths outside
$\mathcal{A}$ via fixed machine}
  \begin{claim}
    $\mathcal{A}$ compact, every $\Sigma_1^{1}$-subset contains a path (if
    any) outside $\mathcal{A}$. Fix $\Sigma_1^{1}$-predicate $P(X,Y)$,
    $\Sigma_1^{1}$-set $\mathcal{B}_0\neq\emptyset$. Then $\mathcal{B}_0$
    has a $\Sigma_1^{1}$-subset $\mathcal{B}\neq\emptyset$ such that for
    every $X\in\mathcal{B}$, $\{Y:P(X,Y)\}$ contains a path outside
    $\mathcal{A}$.
  \end{claim}

  \textbf{Case 1}: For every $X\in\mathcal{B}_0$,
  $\{Y:P(X,Y)\}\subseteq\mathcal{A}$. Then $\bigcup_{X\in\mathcal{B}_0}
  \{Y:P(X,Y)\}$ will be a $\Sigma_1^1$-subset of $\mathcal{A}$,
  $\Rightarrow\Leftarrow$.

  \vspace{0.5em}
  \textbf{Case 2}: For some $X_0\in\mathcal{B}_0$, $\{Y:P(X_0,Y)\}$
  contains a path $Y_0\not\in\mathcal{A}$. By compactness of $\mathcal{A}$,
  $Y_0$ has an initial segment $\sigma$ with $[\sigma]\cap\mathcal{A}
  =\emptyset$. This $\Sigma_1^1$-subset of $\mathcal{B}_0$ works:
  \[\mathcal{B}:= \{X\in\mathcal{B}_0: (\exists Y\succ\sigma)\; P(X,Y)\}\]

  Note that every step of this proof can be directly relativized to
  arbitrary $Z$.
\end{frame}

\begin{frame}{$\Sigma_1^1$-immunity basis theorem}
  We want $X$ whose computed trees avoid $\mathcal{A}$ regardless of the
  machine used in the computation. The previous claim gives us enough $X$'s
  that work for each machine to guarantee that some $X$ works for
  all machines.

  \vspace{1em}
  \begin{thm}[$\Sigma_1^1$-immunity basis]
    $\mathcal{A}$ compact, every $\Sigma_1^{1}$-set contains a path (if
    any) outside $\mathcal{A}$. Fix $\Sigma_1^{1}$-set
    $\mathcal{B}\neq\emptyset$. Then $\mathcal{B}$ contains some $X$ such
    that every $\Sigma_1^{1,X}$-set contains a path (if any) outside
    $\mathcal{A}$.
  \end{thm}

  \vspace{1em}
  For each $\Sigma_1^1$-predicate $P$, let $\mathcal{U}_P$ be the union of
  all the $\Sigma_1^1$-sets where every $X$ in the set gives a path outside
  $\mathcal{A}$ via $P$. From previous claim, $\mathcal{U}_P$ is dense
  (under Gandy-Harrington topology where basic open sets are
  $\Sigma_1^1$-sets). Since this topology is Baire,
  $\bigcap_P\mathcal{U}_P$ is is non-empty. Any
  $X\in\bigcap_P\mathcal{U}_P$ works.
\end{frame}

\begin{frame}{$\Sigma_1^{1,Z}$-immunity basis theorem}
  Every step in the proof can be directly relativized to arbitary $Z$.
  \vspace{0.5em}
  \begin{thm}[$\Sigma_1^{1,Z}$-immunity basis]
    $\mathcal{A}$ compact, every $\Sigma_1^{1,Z}$-set contains a path
    (if any) outside $\mathcal{A}$. Fix $\Sigma_1^{1,Z}$-set
    $\mathcal{B}\neq\emptyset$. Then $\mathcal{B}$ contains some $X$ such
    that every $\Sigma_1^{1,X}$-set contains a path (if any) outside
    $\mathcal{A}$.
  \end{thm}

  \vspace{1em}
  We want not just the trees computed by $X$, but also the trees computed
  by its subsets to avoid lying in $\mathcal{A}$. By fixing the machine
  used in the computations, we can avoid $\mathcal{A}$ in the stronger
  sense: either no path computed by these subsets lie in $\mathcal{A}$, or
  all trees compute a same node outside $\mathcal{A}$.
\end{frame}

\begin{frame}{All $\Sigma_1^1$-set compute path outside $\mathcal{A}$
$\Rightarrow$\\ $(\exists X)$ {[All subsets compute path outside
$\mathcal{A}$]}}
  \begin{itemize}
    \item Fix compact $\mathcal{A}$ with no $\Sigma_1^1$-subset
      ($\neq\emptyset$). Want $X\in[\omega]^\omega$ such that for each
      $Y\in[X]^\omega$, every $Y$-recursive tree contains a path (if any)
      outside $\mathcal{A}$.
    \item Enumerate Turing functionals on trees
      $\Gamma_s:2^{<\omega} \rightarrow \omega^{<\omega}$. Iteratively
      find $X_{s+1}\in[X_s]^\omega$ that works for each $\Gamma_s$:
    \item Construct $X=\bigcap_{s\in\omega}X_s$ with
      \[\begin{array}{rlll}
        \omega=X_0 &\supset X_1 &\supset X_2 &\supset\ldots,\\
        p_{X_0}\restriction0 &\prec p_{X_1}\restriction1 &\prec
          p_{X_2}\restriction2 &\prec\ldots\\
      \end{array}\]
    \item At stage $s$, remove enough elements beyond the first $s$
      elements of $X_s$ to get $X_{s+1}\in[X_s]^\omega$ such that for each
      $Y\in[X_{s+1}]^\omega$, $[\Gamma_s^Y]$
      contains a path (if any) outside $\mathcal{A}$.
    \item $X=\bigcap_{s\in\omega}X_s$ works.
    \item The hard part is proving each $X_{s+1}\in[X_s]^\omega$ exists.
  \end{itemize}
\end{frame}

\begin{frame}{Compute no path in $\mathcal{A}$, Or same node outside
$\mathcal{A}$}
  If we do not require $X_{s+1}$ to share a given initial segment with
  $X_s$, we can find $X_{s+1}\in[X_s]^\omega$ with stronger property:

  \begin{lemma}[Compute no path in $\mathcal{A}$, Or same node outside
  $\mathcal{A}$]
  \label{lemma:all-outside-A}
    Fix $Z\in[\omega]^\omega$, compact
    $\mathcal{A}\subseteq\omega^\omega$ with no $\Sigma_1^{1,Z}$ subset
    ($\neq\emptyset$), $\Gamma:2^{<\omega} \rightarrow
    \omega^{<\omega}$. There exists $X\in[Z]^\omega$ such that:

    \begin{itemize}
      \item Either every $Y\in[X]^\omega$ computes only paths outside
        $\mathcal{A}$ (via $\Gamma$),
      \item Or for every $n\in\omega$, some $\sigma\in\omega^n$ with
        $[\sigma]\cap\mathcal{A}=\emptyset$ is computed by every
        $Y\in[X]^\omega$ via $\Gamma$.
    \end{itemize}
  \end{lemma}
\end{frame}

\begin{frame}{WWKL $\nleq_{\text{soc}}$ RT}
  \begin{itemize}
    \item Fix $T\subseteq 2^{<\omega}$ with $\mu(T)>0$, $[T]$
      has no non-empty $\Sigma_1^1$ subset
    \item We prove such $T$ exists
    \item Fix RT instance $c:[\omega]^n\rightarrow k$ and assume every
      solution $H$ computes a path through $T$, i.e. $[T]$ has non-empty
      $\Pi_1^{0,H}$ subset
    \item Thus every $X\in[\omega]^\omega$ has a subset
      $H\in[X]^\omega$ such that $[T]$ has non-empty $\Pi_1^{0,H}$ subset
    \item We say that $T$ is $\Pi_1^0$-encodable
    \item We will prove that being $\Pi_1^0$-encodable is equivalent to
      containing non-empty $\Sigma_1^1$ subset, $\rightarrow\leftarrow$
  \end{itemize}
\end{frame}

\begin{frame}{There exists $[T]$ with no $\Sigma_1^1$ subset, $\mu(T)>0$}
  \begin{itemize}
    \item Let $T$ be set of Martin-Lof randoms relativized to Kleene's $O$
    \item Then $\mu(T)>0$
    \item $T$ has no non-empty $\Sigma_1^1$ subset because every
      $\Sigma_1^1$ subset of $2^\omega$ contains an element recursive in
      $O$
  \end{itemize}
\end{frame}

\begin{frame}{Extra slides}
  \begin{itemize}
    \item Set of oracles computing a fixed non-recursive has 0 measure
    \item Gandy-Harrington topology (relativized) is Baire
    \item Every $\Sigma_1^1$ subset of $2^\omega$ contains an element
      recursive in Kleene's $O$
    \item Galvin-Prikry
  \end{itemize}
\end{frame}
